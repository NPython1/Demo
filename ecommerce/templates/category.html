{% extends 'base.html' %}
{% load static %}
{% block metadescription %}

  {% if category %}
      {{category.description|truncatewords:155}}
  {% else %}
         A bookstore is a place where you can easily buy used books with reasonable price!!!!
  {% endif %}

{% endblock %}

{% block title %}
  {% if category %}
      {{category.name}} The Bookshelf
  {% else %}
      See our collections-The Bookshelf
  {% endif %}
{% endblock %}

{% block content %}

{% if category %}
  <div class="container">
    <div class="row my_row_class">
      <p><a href="{% url 'shop:allProdCat' %}">Our collections</a></p>
    </div>
  </div>
{% endif %}

<div>
{% if category %}
  <img class="my_image" src="{{category.image.url}}" alt="{{category.name}}" style="width:100%;height:500px">
</div>
<br>
<div>
  <h1 class="text-center my_title">{{category.name}}</h1>
  <p class="text-justify">{{category.description}}</p>
</div>
{% else %}
  <div>
    <img class="my_image my_image_padding " src="{% static 'img/banner.png' %}" alt="Our products" style="width:100% ;height:500px">
</div>
<br>
<div>
  <h1>Our collections</h1>
  <p>Best platform which can help you find used books.Totally trustworthy !!!This Website will Sell Used Books In India. Search And Buy Second Hand Books Near You.India's leading platform where you can sell used books online. At Clankart, we help people to sell their used books to another book lover just like them at interesting prices.Selling used second hand books at your own desired price is not an uphill battle anymore. </p>
</div>
<br>
{% endif %}
<div class="container">
  <div class="row mx-auto">
    {% for product in products.object_list %}
    <div class="my_bottom_margin col-9col-sm-12 col-md-4 col-lg-4">
      <div class="card text-center" style="min-width:18rem">
        <a href="{{product.get_url}}"> <img class="card-img-top my_image" src="{{product.image.url}}" alt ="{{product.name}}" style="width:250px;height:250px"></a>
        <div class="card-body">
          <h4>{{product.name}}</h4>
          <p>{{product.price}}</p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
    <div class="mx-auto">
    {% if products.paginator.num_pages > 1 %}:
    <hr>
    <div class="text-center">
      {% for pg in products.paginator.page_range %}
      <a href="?page={{pg}}" class="btn btn-light btn-sm {% if products.number == pg %} active {% endif %}">{{pg}}</a>
      {% endfor %}
    </div>
    {% endif %}
</div>
  
{% endblock %}
</div>